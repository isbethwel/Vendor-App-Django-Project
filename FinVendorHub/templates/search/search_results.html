{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Search Results for "{{ query }}"</h2>
    {% if vendor_results or document_results %}
        <h3>Vendors</h3>
        {% if vendor_results %}
            <ul class="list-group mb-4">
                {% for vendor in vendor_results %}
                    <li class="list-group-item">
                        <a href="{% url 'vendor_detail' vendor.pk %}">{{ vendor.name }}</a>
                        - <a href="{{ vendor.website }}">{{ vendor.website }}</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No vendors found.</p>
        {% endif %}

        <h3>Documents</h3>
        {% if document_results %}
            <ul class="list-group">
                {% for document in document_results %}
                    <li class="list-group-item">
                        {{ document.title }}
                        {% if document.vendor %}
                            - <a href="{% url 'vendor_detail' document.vendor.pk %}">{{ document.vendor.name }}</a>
                        {% endif %}
                        <a href="{{ document.document.url }}" target="_blank">(View Document)</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No documents found.</p>
        {% endif %}
    {% else %}
        <p>No results found for "{{ query }}".</p>
    {% endif %}
</div>
{% endblock %}
